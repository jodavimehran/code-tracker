683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 1)   /*
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 2)    * Copyright 2016 Federico Tomassetti
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 3)    *
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 4)    * Licensed under the Apache License, Version 2.0 (the "License");
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 5)    * you may not use this file except in compliance with the License.
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 6)    * You may obtain a copy of the License at
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 7)    *
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 8)    * http://www.apache.org/licenses/LICENSE-2.0
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 9)    *
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 10)   * Unless required by applicable law or agreed to in writing, software
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 11)   * distributed under the License is distributed on an "AS IS" BASIS,
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 12)   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 13)   * See the License for the specific language governing permissions and
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 14)   * limitations under the License.
683012de2 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-19 11:04:20 -0400 15)   */
                                                                                                                                                                                                 16)
9c53c2cbc java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-20 02:39:09 -0400 17)  package com.github.javaparser.symbolsolver.javaparsermodel.contexts;
                                                                                                                                                                                                 18)
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 19)  import com.github.javaparser.ast.expr.Expression;
2f49331fb src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 12:08:00 -0400 20)  import com.github.javaparser.ast.expr.MethodCallExpr;
7b2a0b366 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-23 04:24:23 -0400 21)  import com.github.javaparser.ast.expr.NameExpr;
791449a6a javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (Federico Tomassetti      2018-06-06 09:52:48 -0400 22)  import com.github.javaparser.ast.expr.ObjectCreationExpr;
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 23)  import com.github.javaparser.resolution.MethodUsage;
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 24)  import com.github.javaparser.resolution.UnsolvedSymbolException;
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 25)  import com.github.javaparser.resolution.declarations.*;
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 26)  import com.github.javaparser.resolution.types.*;
9c53c2cbc java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-20 02:39:09 -0400 27)  import com.github.javaparser.symbolsolver.core.resolution.Context;
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 28)  import com.github.javaparser.symbolsolver.javaparser.Navigator;
9c53c2cbc java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-20 02:39:09 -0400 29)  import com.github.javaparser.symbolsolver.javaparsermodel.JavaParserFacade;
9c53c2cbc java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-20 02:39:09 -0400 30)  import com.github.javaparser.symbolsolver.model.resolution.SymbolReference;
9c53c2cbc java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-20 02:39:09 -0400 31)  import com.github.javaparser.symbolsolver.model.resolution.TypeSolver;
9c53c2cbc java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-20 02:39:09 -0400 32)  import com.github.javaparser.symbolsolver.model.resolution.Value;
cb5ffb7fd java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-12-13 11:45:00 -0500 33)  import com.github.javaparser.symbolsolver.model.typesystem.*;
9c53c2cbc java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-20 02:39:09 -0400 34)  import com.github.javaparser.symbolsolver.reflectionmodel.ReflectionClassDeclaration;
9c53c2cbc java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-20 02:39:09 -0400 35)  import com.github.javaparser.symbolsolver.resolution.MethodResolutionLogic;
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 36)  import com.github.javaparser.utils.Pair;
                                                                                                                                                                                                 37)
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 38)  import java.util.ArrayList;
1db4cd791 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Marcos César de Oliveira 2017-12-10 09:34:00 -0500 39)  import java.util.Collection;
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 40)  import java.util.HashMap;
2f49331fb src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 12:08:00 -0400 41)  import java.util.List;
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 42)  import java.util.Map;
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 43)  import java.util.Optional;
                                                                                                                                                                                                 44)
2f49331fb src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 12:08:00 -0400 45)  public class MethodCallExprContext extends AbstractJavaParserContext<MethodCallExpr> {
                                                                                                                                                                                                 46)
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 47)      ///
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 48)      /// Constructors
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 49)      ///
                                                                                                                                                                                                 50)
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 51)      public MethodCallExprContext(MethodCallExpr wrappedNode, TypeSolver typeSolver) {
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 52)          super(wrappedNode, typeSolver);
2f49331fb src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 12:08:00 -0400 53)      }
                                                                                                                                                                                                 54)
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 55)      ///
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 56)      /// Public methods
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 57)      ///
                                                                                                                                                                                                 58)
9f625af27 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-17 01:55:41 -0400 59)      @Override
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 60)      public Optional<ResolvedType> solveGenericType(String name, TypeSolver typeSolver) {
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 61)          if(wrappedNode.getScope().isPresent()){
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 62)              ResolvedType typeOfScope = JavaParserFacade.get(typeSolver).getType(wrappedNode.getScope().get());
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 63)              Optional<ResolvedType> res = typeOfScope.asReferenceType().getGenericParameterByName(name);
acf74024c java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-11 13:37:32 -0400 64)              return res;
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 65)          } else{
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 66)              return Optional.empty();
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 67)          }
9f625af27 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-17 01:55:41 -0400 68)      }
                                                                                                                                                                                                 69)
26c12a20f src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-11-01 06:29:15 -0500 70)      @Override
26c12a20f src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-11-01 06:29:15 -0500 71)      public String toString() {
ed63079d0 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-09 11:51:42 -0400 72)          return "MethodCallExprContext{wrapped=" + wrappedNode + "}";
26c12a20f src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-11-01 06:29:15 -0500 73)      }
                                                                                                                                                                                                 74)
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 75)      @Override
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 76)      public Optional<MethodUsage> solveMethodAsUsage(String name, List<ResolvedType> argumentsTypes, TypeSolver typeSolver) {
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 77)          if (wrappedNode.getScope().isPresent()) {
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 78)              Expression scope = wrappedNode.getScope().get();
03055f925 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 08:49:23 -0500 79)              // Consider static method calls
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 80)              if (scope instanceof NameExpr) {
065875981 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-01-11 19:45:26 -0500 81)                  String className = ((NameExpr) scope).getName().getId();
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 82)                  SymbolReference<ResolvedTypeDeclaration> ref = solveType(className, typeSolver);
7b2a0b366 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-23 04:24:23 -0400 83)                  if (ref.isSolved()) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 84)                      SymbolReference<ResolvedMethodDeclaration> m = MethodResolutionLogic.solveMethodInType(ref.getCorrespondingDeclaration(), name, argumentsTypes, typeSolver);
7b2a0b366 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-23 04:24:23 -0400 85)                      if (m.isSolved()) {
8d234965b java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 02:36:12 -0400 86)                          MethodUsage methodUsage = new MethodUsage(m.getCorrespondingDeclaration());
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 87)                          methodUsage = resolveMethodTypeParametersFromExplicitList(typeSolver, methodUsage);
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 88)                          methodUsage = resolveMethodTypeParameters(methodUsage, argumentsTypes);
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 89)                          return Optional.of(methodUsage);
6a15cd550 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-24 12:29:04 -0400 90)                      } else {
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 91)                          throw new UnsolvedSymbolException(ref.getCorrespondingDeclaration().toString(),
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 92)                                  "Method '" + name + "' with parameterTypes " + argumentsTypes);
6a15cd550 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-24 12:29:04 -0400 93)                      }
7b2a0b366 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-23 04:24:23 -0400 94)                  }
7b2a0b366 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-23 04:24:23 -0400 95)              }
                                                                                                                                                                                                 96)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 97)              ResolvedType typeOfScope = JavaParserFacade.get(typeSolver).getType(scope);
70f3e66c9 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 13:24:30 -0400 98)              // we can replace the parameter types from the scope into the typeParametersValues
                                                                                                                                                                                                 99)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 100)             Map<ResolvedTypeParameterDeclaration, ResolvedType> inferredTypes = new HashMap<>();
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 101)             for (int i = 0; i < argumentsTypes.size(); i++) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 102)                 // by replacing types I can also find new equivalences
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 103)                 // for example if I replace T=U with String because I know that T=String I can derive that also U equal String
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 104)                 ResolvedType originalArgumentType = argumentsTypes.get(i);
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 105)                 ResolvedType updatedArgumentType = usingParameterTypesFromScope(typeOfScope, originalArgumentType, inferredTypes);
d017fb8ca java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-27 13:31:21 -0400 106)                 argumentsTypes.set(i, updatedArgumentType);
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 107)             }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 108)             for (int i = 0; i < argumentsTypes.size(); i++) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 109)                 ResolvedType updatedArgumentType = applyInferredTypes(argumentsTypes.get(i), inferredTypes);
d017fb8ca java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-27 13:31:21 -0400 110)                 argumentsTypes.set(i, updatedArgumentType);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 111)             }
                                                                                                                                                                                                 112)
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 113)             return solveMethodAsUsage(typeOfScope, name, argumentsTypes, typeSolver, this);
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 114)         } else {
46aefdd68 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-23 06:34:00 -0400 115)             Context parentContext = getParent();
791449a6a javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (Federico Tomassetti      2018-06-06 09:52:48 -0400 116)             while (parentContext instanceof MethodCallExprContext || parentContext instanceof ObjectCreationContext) {
d36b02817 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (malte_langkabel          2016-09-26 13:15:20 -0400 117)                 parentContext = parentContext.getParent();
d36b02817 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (malte_langkabel          2016-09-26 13:15:20 -0400 118)             }
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 119)             return parentContext.solveMethodAsUsage(name, argumentsTypes, typeSolver);
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 120)         }
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 121)     }
                                                                                                                                                                                                 122)
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 123)     private MethodUsage resolveMethodTypeParametersFromExplicitList(TypeSolver typeSolver, MethodUsage methodUsage) {
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 124)         if (wrappedNode.getTypeArguments().isPresent()) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 125)             final List<ResolvedType> typeArguments = new ArrayList<>();
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 126)             for (com.github.javaparser.ast.type.Type ty : wrappedNode.getTypeArguments().get()) {
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 127)                 typeArguments.add(JavaParserFacade.get(typeSolver).convertToUsage(ty));
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 128)             }
                                                                                                                                                                                                 129)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 130)             List<ResolvedTypeParameterDeclaration> tyParamDecls = methodUsage.getDeclaration().getTypeParameters();
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 131)             if (tyParamDecls.size() == typeArguments.size()) {
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 132)                 for (int i = 0; i < tyParamDecls.size(); i++) {
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 133)                     methodUsage = methodUsage.replaceTypeParameter(tyParamDecls.get(i), typeArguments.get(i));
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 134)                 }
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 135)             }
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 136)         }
                                                                                                                                                                                                 137)
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 138)         return methodUsage;
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 139)     }
                                                                                                                                                                                                 140)
2f49331fb src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 12:08:00 -0400 141)     @Override
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 142)     public SymbolReference<? extends ResolvedValueDeclaration> solveSymbol(String name, TypeSolver typeSolver) {
d0348de24 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-24 14:45:51 -0400 143)         return getParent().solveSymbol(name, typeSolver);
2f49331fb src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 12:08:00 -0400 144)     }
                                                                                                                                                                                                 145)
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 146)     @Override
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 147)     public Optional<Value> solveSymbolAsValue(String name, TypeSolver typeSolver) {
3a53155f2 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-25 08:56:18 -0400 148)         Context parentContext = getParent();
3a53155f2 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-25 08:56:18 -0400 149)         return parentContext.solveSymbolAsValue(name, typeSolver);
fd2e08322 src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-08-05 09:30:26 -0400 150)     }
                                                                                                                                                                                                 151)
8b8cc6cdd src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 14:52:58 -0400 152)     @Override
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 153)     public SymbolReference<ResolvedMethodDeclaration> solveMethod(String name, List<ResolvedType> argumentsTypes, boolean staticOnly, TypeSolver typeSolver) {
1db4cd791 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Marcos César de Oliveira 2017-12-10 09:34:00 -0500 154)         Collection<ResolvedReferenceTypeDeclaration> rrtds = findTypeDeclarations(wrappedNode.getScope(), typeSolver);
1db4cd791 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Marcos César de Oliveira 2017-12-10 09:34:00 -0500 155)         for (ResolvedReferenceTypeDeclaration rrtd : rrtds) {
1db4cd791 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Marcos César de Oliveira 2017-12-10 09:34:00 -0500 156)             SymbolReference<ResolvedMethodDeclaration> res = MethodResolutionLogic.solveMethodInType(rrtd, name, argumentsTypes, false, typeSolver);
a16d5b370 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-09 05:06:49 -0400 157)             if (res.isSolved()) {
a16d5b370 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-09 05:06:49 -0400 158)                 return res;
a16d5b370 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-09 05:06:49 -0400 159)             }
a16d5b370 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-09 05:06:49 -0400 160)         }
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 161)         return SymbolReference.unsolved(ResolvedMethodDeclaration.class);
8b8cc6cdd src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 14:52:58 -0400 162)     }
                                                                                                                                                                                                 163)
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 164)     ///
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 165)     /// Private methods
27f0f20ee java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-11-06 03:57:26 -0500 166)     ///
                                                                                                                                                                                                 167)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 168)     private Optional<MethodUsage> solveMethodAsUsage(ResolvedReferenceType refType, String name,
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 169)                                                      List<ResolvedType> argumentsTypes, TypeSolver typeSolver,
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 170)                                                      Context invokationContext) {
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 171)         Optional<MethodUsage> ref = ContextHelper.solveMethodAsUsage(refType.getTypeDeclaration(), name, argumentsTypes, typeSolver, invokationContext, refType.typeParametersValues());
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 172)         if (ref.isPresent()) {
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 173)             MethodUsage methodUsage = ref.get();
                                                                                                                                                                                                 174)
dd5c0a00f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Max Bolingbroke          2017-04-17 17:28:31 -0400 175)             methodUsage = resolveMethodTypeParametersFromExplicitList(typeSolver, methodUsage);
                                                                                                                                                                                                 176)
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 177)             // At this stage I should derive from the context and the value some information on the type parameters
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 178)             // for example, when calling:
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 179)             // myStream.collect(Collectors.toList())
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 180)             // I should be able to figure out that considering the type of the stream (e.g., Stream<String>)
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 181)             // and considering that Stream has this method:
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 182)             //
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 183)             // <R,A> R collect(Collector<? super T,A,R> collector)
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 184)             //
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 185)             // and collector has this method:
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 186)             //
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 187)             // static <T> Collector<T,?,List<T>>   toList()
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 188)             //
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 189)             // In this case collect.R has to be equal to List<toList.T>
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 190)             // And toList.T has to be equal to ? super Stream.T
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 191)             // Therefore R has to be equal to List<? super Stream.T>.
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 192)             // In our example Stream.T equal to String, so the R (and the result of the call to collect) is
cf0045ad7 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-23 14:00:58 -0400 193)             // List<? super String>
                                                                                                                                                                                                 194)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 195)             Map<ResolvedTypeParameterDeclaration, ResolvedType> derivedValues = new HashMap<>();
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 196)             for (int i = 0; i < methodUsage.getParamTypes().size(); i++) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 197)                 ResolvedParameterDeclaration parameter = methodUsage.getDeclaration().getParam(i);
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 198)                 ResolvedType parameterType = parameter.getType();
87be89528 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (malte_langkabel          2017-01-05 13:44:33 -0500 199)                 if (parameter.isVariadic()) {
87be89528 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (malte_langkabel          2017-01-05 13:44:33 -0500 200)                 	parameterType = parameterType.asArrayType().getComponentType();
87be89528 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (malte_langkabel          2017-01-05 13:44:33 -0500 201)                 }
87be89528 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (malte_langkabel          2017-01-05 13:44:33 -0500 202)                 inferTypes(argumentsTypes.get(i), parameterType, derivedValues);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 203)             }
                                                                                                                                                                                                 204)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 205)             for (Map.Entry<ResolvedTypeParameterDeclaration, ResolvedType> entry : derivedValues.entrySet()){
63c7f0fb4 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-22 21:31:05 -0400 206)                 methodUsage = methodUsage.replaceTypeParameter(entry.getKey(), entry.getValue());
63c7f0fb4 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-22 21:31:05 -0400 207)             }
                                                                                                                                                                                                 208)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 209)             ResolvedType returnType = refType.useThisTypeParametersOnTheGivenType(methodUsage.returnType());
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 210)             if (returnType != methodUsage.returnType()) {
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 211)                 methodUsage = methodUsage.replaceReturnType(returnType);
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 212)             }
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 213)             for (int i = 0; i < methodUsage.getParamTypes().size(); i++) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 214)                 ResolvedType replaced = refType.useThisTypeParametersOnTheGivenType(methodUsage.getParamTypes().get(i));
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 215)                 methodUsage = methodUsage.replaceParamType(i, replaced);
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 216)             }
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 217)             return Optional.of(methodUsage);
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 218)         } else {
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 219)             return ref;
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 220)         }
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 221)     }
                                                                                                                                                                                                 222)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 223)     private void inferTypes(ResolvedType source, ResolvedType target, Map<ResolvedTypeParameterDeclaration, ResolvedType> mappings) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 224)         if (source.equals(target)) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 225)             return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 226)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 227)         if (source.isReferenceType() && target.isReferenceType()) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 228)             ResolvedReferenceType sourceRefType = source.asReferenceType();
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 229)             ResolvedReferenceType targetRefType = target.asReferenceType();
                                                                                                                                                                                                 230)             if (sourceRefType.getQualifiedName().equals(targetRefType.getQualifiedName())) {
860a4c0c0 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-01-06 04:11:36 -0500 231)             	if (!sourceRefType.isRawType() && !targetRefType.isRawType()) {
860a4c0c0 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-01-06 04:11:36 -0500 232) 	                for (int i = 0; i < sourceRefType.typeParametersValues().size(); i++) {
860a4c0c0 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-01-06 04:11:36 -0500 233) 	                    inferTypes(sourceRefType.typeParametersValues().get(i), targetRefType.typeParametersValues().get(i), mappings);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 234) 	                }
860a4c0c0 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-01-06 04:11:36 -0500 235)             	}
                                                                                                                                                                                                 236)             }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 237)             return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 238)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 239)         if (source.isReferenceType() && target.isWildcard()) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 240)             if (target.asWildcard().isBounded()) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 241)                 inferTypes(source, target.asWildcard().getBoundedType(), mappings);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 242)                 return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 243)             }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 244)             return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 245)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 246)         if (source.isWildcard() && target.isWildcard()) {
63c7f0fb4 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-22 21:31:05 -0400 247)             if (source.asWildcard().isBounded() && target.asWildcard().isBounded()){
63c7f0fb4 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-22 21:31:05 -0400 248)                 inferTypes(source.asWildcard().getBoundedType(), target.asWildcard().getBoundedType(), mappings);
63c7f0fb4 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-22 21:31:05 -0400 249)             }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 250)             return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 251)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 252)         if (source.isReferenceType() && target.isTypeVariable()) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 253)             mappings.put(target.asTypeParameter(), source);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 254)             return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 255)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 256)         if (source.isWildcard() && target.isTypeVariable()) {
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 257)             mappings.put(target.asTypeParameter(), source);
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 258)             return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 259)         }
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 260)         if (source.isArray() && target.isWildcard()){
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 261)             if(target.asWildcard().isBounded()){
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 262)                 inferTypes(source, target.asWildcard().getBoundedType(), mappings);
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 263)                 return;
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 264)             }
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 265)             return;
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 266)         }
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 267)         if (source.isArray() && target.isTypeVariable()) {
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 268)             mappings.put(target.asTypeParameter(), source);
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 269)             return;
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 270)         }
                                                                                                                                                                                                 271)
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 272)         if (source.isWildcard() && target.isReferenceType()){
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 273)             if (source.asWildcard().isBounded()){
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 274)                 inferTypes(source.asWildcard().getBoundedType(), target, mappings);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 275)             }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 276)             return;
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 277)         }
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 278)         if (source.isConstraint() && target.isReferenceType()){
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 279)             inferTypes(source.asConstraintType().getBound(), target, mappings);
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 280)             return;
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 281)         }
                                                                                                                                                                                                 282)
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 283)         if (source.isConstraint() && target.isTypeVariable()){
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 284)             inferTypes(source.asConstraintType().getBound(), target, mappings);
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 285)             return;
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 286)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 287)         if (source.isTypeVariable() && target.isTypeVariable()) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 288)             mappings.put(target.asTypeParameter(), source);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 289)             return;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 290)         }
bc6d2747f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:30:06 -0400 291)         if (source.isPrimitive() || target.isPrimitive()) {
bc6d2747f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:30:06 -0400 292)             return;
bc6d2747f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:30:06 -0400 293)         }
bc6d2747f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:30:06 -0400 294)         if (source.isNull()) {
bc6d2747f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:30:06 -0400 295)             return;
bc6d2747f java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:30:06 -0400 296)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 297)         throw new RuntimeException(source.describe() + " " + target.describe());
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 298)     }
                                                                                                                                                                                                 299)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 300)     private MethodUsage resolveMethodTypeParameters(MethodUsage methodUsage, List<ResolvedType> actualParamTypes) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 301)         Map<ResolvedTypeParameterDeclaration, ResolvedType> matchedTypeParameters = new HashMap<>();
                                                                                                                                                                                                 302)
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 303)         if (methodUsage.getDeclaration().hasVariadicParameter()) {
b32947e8c java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-21 02:55:11 -0400 304)             if (actualParamTypes.size() == methodUsage.getDeclaration().getNumberOfParams()) {
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 305)                 // the varargs parameter is an Array, so extract the inner type
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 306)                 ResolvedType expectedType =
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 307)                     methodUsage.getDeclaration().getLastParam().getType().asArrayType().getComponentType();
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 308)                 // the varargs corresponding type can be either T or Array<T>
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 309)                 ResolvedType actualType =
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 310)                     actualParamTypes.get(actualParamTypes.size() - 1).isArray() ?
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 311)                         actualParamTypes.get(actualParamTypes.size() - 1).asArrayType().getComponentType() :
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 312)                         actualParamTypes.get(actualParamTypes.size() - 1);
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 313)                 if (!expectedType.isAssignableBy(actualType)) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 314)                     for (ResolvedTypeParameterDeclaration tp : methodUsage.getDeclaration().getTypeParameters()) {
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 315)                         expectedType = MethodResolutionLogic.replaceTypeParam(expectedType, tp, typeSolver);
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 316)                     }
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 317)                 }
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 318)                 if (!expectedType.isAssignableBy(actualType)) {
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 319)                     // ok, then it needs to be wrapped
70f3e66c9 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 13:24:30 -0400 320)                     throw new UnsupportedOperationException(
70f3e66c9 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 13:24:30 -0400 321)                         String.format("Unable to resolve the type typeParametersValues in a MethodUsage. Expected type: %s, Actual type: %s. Method Declaration: %s. MethodUsage: %s",
70f3e66c9 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 13:24:30 -0400 322)                                       expectedType,
70f3e66c9 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 13:24:30 -0400 323)                                       actualType,
70f3e66c9 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 13:24:30 -0400 324)                                       methodUsage.getDeclaration(),
70f3e66c9 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 13:24:30 -0400 325)                                       methodUsage));
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 326)                 }
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 327)                 // match only the varargs type
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 328)                 matchTypeParameters(expectedType, actualType, matchedTypeParameters);
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 329)             } else {
c1881cd14 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-09 13:39:04 -0400 330)                 return methodUsage;
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 331)             }
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 332)         }
                                                                                                                                                                                                 333)
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 334)         int until = methodUsage.getDeclaration().hasVariadicParameter() ?
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 335)             actualParamTypes.size() - 1 :
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 336)             actualParamTypes.size();
                                                                                                                                                                                                 337)
16aa32541 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-11 10:40:24 -0400 338)         for (int i = 0; i < until; i++) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 339)             ResolvedType expectedType = methodUsage.getParamType(i);
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 340)             ResolvedType actualType = actualParamTypes.get(i);
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 341)             matchTypeParameters(expectedType, actualType, matchedTypeParameters);
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 342)         }
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 343)         for (ResolvedTypeParameterDeclaration tp : matchedTypeParameters.keySet()) {
dc093e9ac java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-22 08:39:56 -0400 344)             methodUsage = methodUsage.replaceTypeParameter(tp, matchedTypeParameters.get(tp));
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 345)         }
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 346)         return methodUsage;
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 347)     }
                                                                                                                                                                                                 348)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 349)     private void matchTypeParameters(ResolvedType expectedType, ResolvedType actualType, Map<ResolvedTypeParameterDeclaration, ResolvedType> matchedTypeParameters) {
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 350)         if (expectedType.isTypeVariable()) {
589ef9283 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-10 14:08:39 -0400 351)             if (!actualType.isTypeVariable() && !actualType.isReferenceType()) {
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 352)                 throw new UnsupportedOperationException(actualType.getClass().getCanonicalName());
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 353)             }
9c4e9b3e3 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-22 08:26:28 -0400 354)             matchedTypeParameters.put(expectedType.asTypeParameter(), actualType);
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 355)         } else if (expectedType.isArray()) {
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 356)             if (!actualType.isArray()) {
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 357)                 throw new UnsupportedOperationException(actualType.getClass().getCanonicalName());
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 358)             }
051dbd94c java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 16:57:00 -0400 359)             matchTypeParameters(
051dbd94c java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 16:57:00 -0400 360)                     expectedType.asArrayType().getComponentType(),
051dbd94c java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 16:57:00 -0400 361)                     actualType.asArrayType().getComponentType(),
051dbd94c java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 16:57:00 -0400 362)                     matchedTypeParameters);
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 363)         } else if (expectedType.isReferenceType()) {
abec22a71 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (mlangkabel               2017-08-28 05:15:05 -0400 364)             // avoid cases where the actual type has no type parameters but the expected one has. Such as: "classX extends classY<Integer>"
abec22a71 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (mlangkabel               2017-08-28 05:15:05 -0400 365)             if (actualType.isReferenceType() && actualType.asReferenceType().typeParametersValues().size() > 0) {
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 366)                 int i = 0;
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 367)                 for (ResolvedType tp : expectedType.asReferenceType().typeParametersValues()) {
051dbd94c java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-14 16:57:00 -0400 368)                     matchTypeParameters(tp, actualType.asReferenceType().typeParametersValues().get(i), matchedTypeParameters);
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 369)                     i++;
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 370)                 }
589ef9283 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Stas Levin               2017-05-10 14:08:39 -0400 371)             }
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 372)         } else if (expectedType.isPrimitive()) {
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 373)             // nothing to do
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 374)         } else if (expectedType.isWildcard()) {
81d24cde3 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 12:22:20 -0500 375)             // nothing to do
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 376)         } else {
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 377)             throw new UnsupportedOperationException(expectedType.getClass().getCanonicalName());
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 378)         }
ead147279 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-20 11:04:38 -0500 379)     }
                                                                                                                                                                                                 380)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 381)     private Optional<MethodUsage> solveMethodAsUsage(ResolvedTypeVariable tp, String name, List<ResolvedType> argumentsTypes, TypeSolver typeSolver, Context invokationContext) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 382)         for (ResolvedTypeParameterDeclaration.Bound bound : tp.asTypeParameter().getBounds()) {
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 383)             Optional<MethodUsage> methodUsage = solveMethodAsUsage(bound.getType(), name, argumentsTypes, typeSolver, invokationContext);
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 384)             if (methodUsage.isPresent()) {
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 385)                 return methodUsage;
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 386)             }
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 387)         }
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 388)         return Optional.empty();
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 389)     }
                                                                                                                                                                                                 390)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 391)     private Optional<MethodUsage> solveMethodAsUsage(ResolvedType type, String name, List<ResolvedType> argumentsTypes, TypeSolver typeSolver, Context invokationContext) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 392)         if (type instanceof ResolvedReferenceType) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 393)             return solveMethodAsUsage((ResolvedReferenceType) type, name, argumentsTypes, typeSolver, invokationContext);
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 394)         } else if (type instanceof ResolvedTypeVariable) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 395)             return solveMethodAsUsage((ResolvedTypeVariable) type, name, argumentsTypes, typeSolver, invokationContext);
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 396)         } else if (type instanceof ResolvedWildcard) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 397)             ResolvedWildcard wildcardUsage = (ResolvedWildcard) type;
5aca9bfac java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-13 08:55:17 -0500 398)             if (wildcardUsage.isSuper()) {
88db8b2a8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-17 13:25:56 -0400 399)                 return solveMethodAsUsage(wildcardUsage.getBoundedType(), name, argumentsTypes, typeSolver, invokationContext);
5aca9bfac java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-13 08:55:17 -0500 400)             } else if (wildcardUsage.isExtends()) {
5aca9bfac java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-13 08:55:17 -0500 401)                 throw new UnsupportedOperationException("extends wildcard");
5aca9bfac java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-13 08:55:17 -0500 402)             } else {
5aca9bfac java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-13 08:55:17 -0500 403)                 throw new UnsupportedOperationException("unbounded wildcard");
5aca9bfac java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java         (Federico Tomassetti      2015-11-13 08:55:17 -0500 404)             }
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 405)         } else if (type instanceof ResolvedLambdaConstraintType){
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 406)             ResolvedLambdaConstraintType constraintType = (ResolvedLambdaConstraintType) type;
acdac6790 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (xdrop                    2017-03-09 20:22:23 -0500 407)             return solveMethodAsUsage(constraintType.getBound(), name, argumentsTypes, typeSolver, invokationContext);
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 408)         } else if (type instanceof ResolvedArrayType) {
c990d2349 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Fred Lefévère-Laoide     2016-12-13 08:10:38 -0500 409)             // An array inherits methods from Object not from it's component type
c990d2349 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Fred Lefévère-Laoide     2016-12-13 08:10:38 -0500 410)             return solveMethodAsUsage(new ReferenceTypeImpl(new ReflectionClassDeclaration(Object.class, typeSolver), typeSolver), name, argumentsTypes, typeSolver, invokationContext);
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 411)         } else if (type instanceof ResolvedUnionType) {
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 412)             Optional<ResolvedReferenceType> commonAncestor = type.asUnionType().getCommonAncestor();
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 413)             if (commonAncestor.isPresent()) {
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 414)                 return solveMethodAsUsage(commonAncestor.get(), name, argumentsTypes, typeSolver, invokationContext);
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 415)             } else {
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 416)                 throw new UnsupportedOperationException("no common ancestor available for " + type.describe());
7df795073 javaparser-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java (daans                    2018-03-30 09:12:22 -0400 417)             }
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 418)         } else {
82eb44707 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-13 16:11:31 -0400 419)             throw new UnsupportedOperationException("type usage: " + type.getClass().getCanonicalName());
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 420)         }
0e81f51c4 src/main/java/me/tomassetti/symbolsolver/resolution/javaparser/contexts/MethodCallExprContext.java                                 (Federico Tomassetti      2015-10-30 18:37:45 -0400 421)     }
                                                                                                                                                                                                 422)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 423)     private ResolvedType usingParameterTypesFromScope(ResolvedType scope, ResolvedType type, Map<ResolvedTypeParameterDeclaration, ResolvedType> inferredTypes) {
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 424)         if (type.isReferenceType()) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 425)             for (Pair<ResolvedTypeParameterDeclaration, ResolvedType> entry : type.asReferenceType().getTypeParametersMap()) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 426)                 if (entry.a.declaredOnType() && scope.asReferenceType().getGenericParameterByName(entry.a.getName()).isPresent()) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 427)                     type = type.replaceTypeVariables(entry.a, scope.asReferenceType().getGenericParameterByName(entry.a.getName()).get(), inferredTypes);
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 428)                 }
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 429)             }
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 430)             return type;
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 431)         } else {
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 432)             return type;
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 433)         }
38d780df8 java-symbol-solver-core/src/main/java/me/tomassetti/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java               (Federico Tomassetti      2016-10-12 16:53:39 -0400 434)     }
                                                                                                                                                                                                 435)
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 436)     private ResolvedType applyInferredTypes(ResolvedType type, Map<ResolvedTypeParameterDeclaration, ResolvedType> inferredTypes) {
5d8d0cb79 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2017-09-28 16:36:20 -0400 437)         for (ResolvedTypeParameterDeclaration tp : inferredTypes.keySet()) {
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 438)             type = type.replaceTypeVariables(tp, inferredTypes.get(tp), inferredTypes);
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 439)         }
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 440)         return type;
2082034e8 java-symbol-solver-core/src/main/java/com/github/javaparser/symbolsolver/javaparsermodel/contexts/MethodCallExprContext.java       (Federico Tomassetti      2016-10-24 13:19:05 -0400 441)     }
2f49331fb src/main/java/me/tomassetti/symbolsolver/model/javaparser/contexts/MethodCallExprContext.java                                      (Federico Tomassetti      2015-07-31 12:08:00 -0400 442) }
